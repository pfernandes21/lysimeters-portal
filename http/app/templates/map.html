<!DOCTYPE html>
<html>

<head>
    <title>Add Map</title>

    <style type="text/css">
        /* Set the size of the div element that contains the map */
        #map {
            height: 400px;
            /* The height is 400 pixels */
            width: 100%;
            /* The width is the width of the web page */
        }
    </style>
</head>

<body>
    <h3>My Google Maps Demo</h3>
    <!--The div element for the map -->
    <div id="map"></div>

    <script>
        var map;
        var marker;

        function initMap() {
            var portugal = new google.maps.LatLng(39.693519, -7.996114);
            map = new google.maps.Map(
                document.getElementById('map'), { center: portugal, zoom: 6 });

            google.maps.event.addListener(map, 'click', function (event) {
                addMarker(event.latLng);
            });
        }

        function addMarker(location) {
            if(marker) {
                marker.setMap(null);
                marker = null;
            }

            marker = new google.maps.Marker({
                position: location,
                map: map
            });
            
            var lat = marker.getPosition().lat();
            var lng = marker.getPosition().lng();
            console.log(lat);
            console.log(lng);
        }
    </script>
    
    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAQfMvz5_Stvt3Mmun0iOGu9GQFjgFjEJ0&libraries=places&callback=initMap">
        </script>
</body>

</html>